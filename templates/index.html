<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MAXNET - Script Mainframe üñ•Ô∏è</title>
    <style>
        body {
            margin: 0;
            padding: 2rem;
            font-family: "Courier New", Courier, monospace;
            background-color: #000;
            color: #33ff33;
        }

        .hidden {
            display: none;
        }

        .terminal-box {
            background-color: #111;
            border: 2px solid #33ff33;
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 0 20px #33ff33;
            max-width: 800px;
            margin: 2rem auto;
        }

        .script {
            margin-bottom: 1.5rem;
        }

        a {
            color: #33ffff;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .hacker-mode {
            background-color: #1a0000;
            color: #ff4444;
        }

        @keyframes redAlertFlash {
            0%, 100% { background-color: #8b0000; }
            50% { background-color: #ff0000; }
        }

        .red-alert-mode {
            background-color: #8b0000;
            color: #ff0000;
            animation: redAlertFlash 1s infinite;
        }

        #toggleButton {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #111;
            border: 2px solid #33ff33;
            color: #33ff33;
            padding: 5px 10px;
            font-weight: bold;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <button id="toggleButton">Toggle Red Alert Mode</button>

    <audio id="alarm" class="hidden" preload="auto">
        <source src="{{ url_for('static', filename='audio/Red_Alert.mp3') }}" type="audio/mpeg">
    </audio>

    <div id="bootup" class="terminal-box">
        <p id="line1" class="hidden">BOOTING MAXNET...</p>
        <p id="line2" class="hidden">Loading script archives ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100%</p>
        <p id="line3" class="hidden">Establishing secure shell üîê</p>
        <p id="line4" class="hidden">Access granted. Welcome, Max.</p>
    </div>

    <div class="terminal-box hidden" id="mainContent">
        <p><strong>üìÅ Available Scripts:</strong></p>
        <details>
            <summary><strong>üõ†Ô∏è Functional Scripts</strong></summary>
            {% for script in scripts if script.category == 'functional' %}
            <div class="script">
                <p><strong>{{ script.title }}</strong></p>
                <p>{{ script.description }}</p>
                <p><a href="/grab/{{ script.filename }}">Download ‚û§ {{ script.filename }}</a></p>
            </div>
            {% endfor %}
        </details>

        <details>
            <summary><strong>üé≠ Prank Scripts</strong></summary>
            {% for script in scripts if script.category == 'prank' %}
            <div class="script">
                <p><strong>{{ script.title }}</strong></p>
                <p>{{ script.description }}</p>
                <p><a href="/grab/{{ script.filename }}">Download ‚û§ {{ script.filename }}</a></p>
            </div>
            {% endfor %}
        </details>

        <details>
            <summary><strong>üß† Learning Scripts</strong></summary>
            {% for script in scripts if script.category == 'learning' %}
            <div class="script">
                <p><strong>{{ script.title }}</strong></p>
                <p>{{ script.description }}</p>
                <p><a href="/grab/{{ script.filename }}">Download ‚û§ {{ script.filename }}</a></p>
            </div>
            {% endfor %}
        </details>
    </div>

    <!-- üéß Lo-fi BGM -->
    <audio autoplay loop id="bgMusic" class="hidden">
        <source src="https://cdn.pixabay.com/audio/2022/03/24/audio_22606a3e07.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Fancy boot-up animation
        const lines = ['line1', 'line2', 'line3', 'line4'];
        let index = 0;
    
        function showNextLine() {
            if (index < lines.length) {
                document.getElementById(lines[index]).classList.remove('hidden');
                index++;
                setTimeout(showNextLine, 900); // Time between lines
            } else {
                // After all lines, show main content + music
                document.getElementById('bootup').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                document.getElementById('bgMusic').classList.remove('hidden');
            }
        }
    
        setTimeout(showNextLine, 500); // Delay before first line

        // Toggle Red Alert Mode
        const toggleButton = document.getElementById('toggleButton');
        const alarm = document.getElementById('alarm');
        toggleButton.addEventListener('click', () => {
            const isActive = document.body.classList.toggle('red-alert-mode');
            if (isActive) {
                alarm.classList.remove('hidden');
                alarm.play();
            } else {
                alarm.pause();
                alarm.currentTime = 0;
                alarm.classList.add('hidden');
            }
        });
    </script>
</body>
</html>